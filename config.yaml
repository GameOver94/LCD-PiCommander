# Hardware Configuration
hardware:
  i2c:
    address: 0x27
    port: 1
    cols: 16            # Updated for 16x2 Display
    rows: 2             # Updated for 16x2 Display

  # GPIO Pin Numbers (BCM numbering)
  inputs:
    encoder:
      clk: 12           # ROT_A
      dt: 6             # ROT_B
    buttons:
      # Mapping Logic:
      # Enter  -> ROT_SW (Encoder Push Button)
      # Back   -> BTN_SW1
      # Custom -> BTN_SW2
      # Unused -> BTN_SW3 (Pin 8) - Swap with 'custom' below if preferred
      
      enter: 13         # ROT_SW
      back: 25          # BTN_SW1
      custom: 11        # BTN_SW2
    
    pull_up: true       # Standard for buttons connecting to GND

# Quick Launch Configuration (Button 3 on Pin 8)
quick_launch:
  command: "docker ps --format '{{.Names}}'"  # Command to execute when Button 3 is pressed
  wait_for_key: true  # Whether to wait for a key press after showing output

# Menu Structure
menu:
  - label: "System Info"
    items:
      - label: "IP Addr"
        action: "hostname -I | cut -d' ' -f1"
        wait_for_key: true
      - label: "CPU Temp"
        action: "vcgencmd measure_temp"
        wait_for_key: true
      - label: "Disk %"
        action: "df -h / | tail -1 | awk '{print $5}'"
        wait_for_key: true

  - label: "Docker"
    items:
      - label: "List Containers"
        action: "docker ps --format '{{.Names}}'"
        wait_for_key: true
      - label: "Restart Stack"
        action: "cd /home/pi/docker && docker compose restart"

  - label: "Power"
    items:
      - label: "Restart App"
        action: "systemctl restart pi-menu"
      - label: "Reboot"
        action: "sudo reboot"
      - label: "Shutdown"
        action: "sudo shutdown -h now"