# Hardware Configuration
hardware:
  i2c:
    address: 0x27
    port: 1
    cols: 16            # Updated for 16x2 Display
    rows: 2             # Updated for 16x2 Display

  # GPIO Pin Numbers (BCM numbering)
  inputs:
    encoder:
      clk: 12           # ROT_A
      dt: 6             # ROT_B
    buttons:
      # Mapping Logic:
      # Enter  -> ROT_SW (Encoder Push Button)
      # Back   -> BTN_SW1
      # Custom -> BTN_SW2
      # Unused -> BTN_SW3 (Pin 8) - Swap with 'custom' below if preferred
      
      enter: 13         # ROT_SW
      back: 25          # BTN_SW1
      custom: 11        # BTN_SW2
    
    pull_up: true       # Standard for buttons connecting to GND

  # Display Behavior
  display:
    idle_timeout: 15.0        # Seconds before dashboard starts (when idle)
    dashboard_cycle_time: 5.0 # Seconds between dashboard page changes
    backlight_timeout: 300.0  # Seconds before backlight turns off (0 = disabled)

# Dashboard Configuration (shown when idle)
# Each page can display up to 2 stats (for 16x2 display) or 4 stats (for 20x4 display)
# Use 'stat:method_name' syntax to call SystemStats methods
dashboard:
  pages:
    - - label: "IP:   "
        stat: "stat:get_ip"
      - label: "Host: "
        stat: "stat:get_hostname"
    - - label: "Temp: "
        stat: "stat:get_cpu_temp"
      - label: "Net:  "
        stat: "stat:check_internet"

# Quick Launch Configuration (Button 3 on Pin 8)
quick_launch:
  command: "docker ps --format '{{.Names}}'"  # Command to execute when Button 3 is pressed
  wait_for_key: true  # Whether to wait for a key press after showing output

# Menu Structure
# Use 'stat:method_name' to call SystemStats methods (recommended for common stats)
# Or use shell commands for advanced/custom stats
menu:
  - label: "System Info"
    items:
      - label: "IP Addr"
        action: "stat:get_ip"
        wait_for_key: true
      - label: "Hostname"
        action: "stat:get_hostname"
        wait_for_key: true
      - label: "CPU Temp"
        action: "stat:get_cpu_temp"
        wait_for_key: true
      - label: "CPU Usage"
        action: "stat:get_cpu_usage"
        wait_for_key: true
      - label: "CPU Load"
        action: "stat:get_cpu_load"
        wait_for_key: true
      - label: "Memory %"
        action: "stat:get_memory_usage"
        wait_for_key: true
      - label: "Memory Info"
        action: "stat:get_memory_info"
        wait_for_key: true
      - label: "Disk %"
        action: "stat:get_disk_usage"
        wait_for_key: true
      - label: "Disk Info"
        action: "stat:get_disk_info"
        wait_for_key: true
      - label: "Uptime"
        action: "stat:get_uptime"
        wait_for_key: true
      - label: "OS Info"
        action: "stat:get_os_info"
        wait_for_key: true
      - label: "Kernel"
        action: "stat:get_kernel"
        wait_for_key: true
      - label: "Internet"
        action: "stat:check_internet"
        wait_for_key: true

  - label: "Docker"
    items:
      - label: "List Containers"
        action: "docker ps --format '{{.Names}}'"
        wait_for_key: true
      - label: "Restart Stack"
        action: "cd /home/pi/docker && docker compose restart"

  - label: "Advanced Stats"
    items:
      - label: "GPU Temp"
        action: "vcgencmd measure_temp"
        wait_for_key: true
      - label: "GPU Memory"
        action: "vcgencmd get_mem gpu"
        wait_for_key: true
      - label: "Throttled?"
        action: "vcgencmd get_throttled"
        wait_for_key: true

  - label: "Power"
    items:
      - label: "Restart App"
        action: "systemctl restart lcd-picommander"
      - label: "Reboot"
        action: "sudo reboot"
      - label: "Shutdown"
        action: "sudo shutdown -h now"